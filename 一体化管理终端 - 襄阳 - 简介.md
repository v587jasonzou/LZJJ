# 一体化管理终端 - 项目简介
[TOC]

## Realm数据库部分

### 1.基础配置
Realm数据库并非基于SqlLite数据库，通过Api查询所得结果，具有自动**刷新功能**特性。
数据库初始化使用[com.yunda.sample.realm.REALM_INIT]类，完成数据库配置[RealmConfiguration]
- **存储目录**:
- **文件名**
- **版本号**
- **版本冲突解决方案**：核心类[com.yunda.sample.realm.version.Migration]
核心代码如下    
``` java
    Realm.init(application);
            File dir = SDCardUtils.isSDCardEnableByEnvironment() ? application.getExternalFilesDir("Realm") : application.getFilesDir();
            Observable.create((ObservableOnSubscribe<Integer>) e -> {
                RealmConfiguration configRealm = new RealmConfiguration.Builder()
                        .directory(dir)//目录
                        .name(DB_FILE_NAME) //文件名
                        .schemaVersion(VERSION_CODE)//版本号
                        .migration(new Migration())//版本更新处理()
                        .build();
                Realm.setDefaultConfiguration(configRealm);//默认实例配置
            }).subscribeOn(Schedulers.single()).subscribe();
```
### 2.所涉及的数据库表：
> 涉及离线数据修改状态的表，会有一个boolean型字段**modify**;  
> 涉及表间**一对一关系**,会有一个字段（`RealmObject`子类）;  
> 涉及表间**一对多关系**,会有一个字段(`RealmList<? extends RealmObject>`);

- `ClxxTable`: 车辆信息表(车辆号+车型唯一)
  - 用于**JT6/28报修**时的车号，车型的数据源
- `DgglTable`: 对规管理模块，数据库表
- ``
- ``
- ``
- ``
- ``
- ``
- ``


